import { Action, JSONSchema7 } from '@genkit-ai/core';
import z__default from 'zod';
import { DocumentData } from './document.js';
import { GenerateOptions } from './generate.js';
import { GenerateRequest, GenerateRequestSchema, ModelArgument } from './model.js';
import './tool.js';

/**
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

type PromptFn<I extends z__default.ZodTypeAny = z__default.ZodTypeAny> = (input: z__default.infer<I>) => Promise<GenerateRequest>;
type PromptAction<I extends z__default.ZodTypeAny = z__default.ZodTypeAny> = Action<I, typeof GenerateRequestSchema> & {
    __action: {
        metadata: {
            type: 'prompt';
        };
    };
};
declare function isPrompt(arg: any): boolean;
declare function definePrompt<I extends z__default.ZodTypeAny>({ name, description, inputSchema, inputJsonSchema, metadata, }: {
    name: string;
    description?: string;
    inputSchema?: I;
    inputJsonSchema?: JSONSchema7;
    metadata?: Record<string, any>;
}, fn: PromptFn<I>): PromptAction<I>;
/**
 * A veneer for rendering a prompt action to GenerateOptions.
 */
type PromptArgument<I extends z__default.ZodTypeAny = z__default.ZodTypeAny> = string | PromptAction<I>;
declare function renderPrompt<I extends z__default.ZodTypeAny = z__default.ZodTypeAny, CustomOptions extends z__default.ZodTypeAny = z__default.ZodTypeAny>(params: {
    prompt: PromptArgument<I>;
    input: z__default.infer<I>;
    context?: DocumentData[];
    model: ModelArgument<CustomOptions>;
    config?: z__default.infer<CustomOptions>;
}): Promise<GenerateOptions>;

export { type PromptAction, type PromptArgument, type PromptFn, definePrompt, isPrompt, renderPrompt };
