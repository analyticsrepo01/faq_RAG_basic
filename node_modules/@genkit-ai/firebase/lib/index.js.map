{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/**\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { genkitPlugin, Plugin } from '@genkit-ai/core';\nimport { FirestoreStateStore } from '@genkit-ai/flow';\nimport { FirestoreTraceStore } from './firestoreTraceStore.js';\nexport { defineFirestoreRetriever } from './firestoreRetriever.js';\n\ninterface FirestorePluginParams {\n  projectId?: string;\n  flowStateStore?: {\n    collection?: string;\n    databaseId?: string;\n  };\n  traceStore?: {\n    collection?: string;\n    databaseId?: string;\n  };\n}\n\nexport const firebase: Plugin<[FirestorePluginParams] | []> = genkitPlugin(\n  'firebase',\n  async (params?: FirestorePluginParams) => ({\n    flowStateStore: {\n      id: 'firestore',\n      value: new FirestoreStateStore(params?.flowStateStore),\n    },\n    traceStore: {\n      id: 'firestore',\n      value: new FirestoreTraceStore(params?.traceStore),\n    },\n  })\n);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,kBAAqC;AACrC,kBAAoC;AACpC,iCAAoC;AACpC,gCAAyC;AAclC,MAAM,eAAiD;AAAA,EAC5D;AAAA,EACA,CAAO,WAAgC;AAAI;AAAA,MACzC,gBAAgB;AAAA,QACd,IAAI;AAAA,QACJ,OAAO,IAAI,gCAAoB,iCAAQ,cAAc;AAAA,MACvD;AAAA,MACA,YAAY;AAAA,QACV,IAAI;AAAA,QACJ,OAAO,IAAI,+CAAoB,iCAAQ,UAAU;AAAA,MACnD;AAAA,IACF;AAAA;AACF;","names":[]}